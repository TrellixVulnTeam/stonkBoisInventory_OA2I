{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dando\\\\Desktop\\\\CPE\\\\307\\\\stonkBoisInventory\\\\frontend\\\\src\\\\App.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport './index.scss';\nimport MyRouter from './MyRouter';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Sidebar = props => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Sidebar\",\n    children: /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: [/*#__PURE__*/_jsxDEV(\"li\", {\n        className: props.activeTab === 1 ? 'active' : '',\n        onClick: () => props.changeTab(1),\n        children: \"Products\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 10,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: props.activeTab === 3 ? 'active' : '',\n        onClick: () => props.changeTab(3),\n        children: \"Orders\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 11,\n        columnNumber: 10\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 8\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 8,\n    columnNumber: 6\n  }, this);\n};\n\n_c = Sidebar;\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.removeProduct = id => {\n      const {\n        products\n      } = this.state;\n      return axios.delete(`http://localhost:5000/products/${id}`).then(response => {\n        if (response.status === 204) {\n          this.setState({\n            products: products.filter((product, i) => {\n              return product._id !== id;\n            })\n          });\n        }\n      });\n    };\n\n    this.removeOrder = id => {\n      const {\n        orders\n      } = this.state;\n      return axios.delete(`http://localhost:5000/orders/${id}`).then(response => {\n        if (response.status === 204) {\n          this.setState({\n            orders: orders.filter((order, i) => {\n              return order._id !== id;\n            })\n          });\n        }\n      });\n    };\n\n    this.state = {\n      activeTab: 1,\n      filter: 'none',\n      products: [],\n      pSort: 'Product Name',\n      orders: [],\n      oSort: 'Order ID',\n      newItemForm: {\n        name: '',\n        price: '',\n        quantity: '',\n        category: '',\n        brand: '',\n        imageURL: ''\n      },\n      newOrderForm: {\n        products: '',\n        quantity: '',\n        price: '',\n        status: '',\n        productIDs: ''\n      }\n    };\n  }\n\n  changeActiveTab(index) {\n    this.setState({\n      activeTab: index\n    });\n  }\n\n  changeNewItemForm(formData) {\n    this.setState({\n      newItemForm: formData\n    });\n  }\n\n  changeNewOrderForm(formData) {\n    this.setState({\n      newOrderForm: formData\n    });\n  }\n\n  addNewProduct(product) {\n    this.makeProductPostCall(product).then(callResult => {\n      if (callResult !== false) {\n        this.setState({\n          newItemForm: {\n            'name': '',\n            'price': '',\n            'quantity': '',\n            'category': '',\n            'brand': '',\n            'imageURL': ''\n          }\n        });\n        console.log(callResult);\n        this.setState({\n          products: [...this.state.products, callResult.data]\n        });\n        this.setSortedProducts(\"Product Name\");\n        console.log(this.state.products);\n      }\n    });\n    this.changeActiveTab(1);\n  }\n\n  makeProductPostCall(product) {\n    return axios.post('http://localhost:5000/products', product).then(function (response) {\n      console.log(response);\n\n      if (response.status === 201) {\n        return response;\n      }\n    }).catch(function (error) {\n      console.log(error);\n      return false;\n    });\n  }\n\n  addNewOrder(order) {\n    this.makeOrderPostCall(order).then(callResult => {\n      if (callResult !== false) {\n        this.setState({\n          newOrderForm: {\n            'products': '',\n            'quantity': '',\n            'price': '',\n            'status': '',\n            'productIDs': '',\n            'imageURL': ''\n          }\n        });\n        console.log(callResult);\n        this.setState({\n          orders: [...this.state.orders, callResult.data]\n        });\n        this.setSortedOrders(\"Order ID\");\n        console.log(this.state.orders);\n      }\n    });\n    this.changeActiveTab(3);\n    this.setSortedProducts('Product Name');\n  }\n\n  makeOrderPostCall(order) {\n    return axios.post('http://localhost:5000/orders', order).then(function (response) {\n      console.log(response);\n\n      if (response.status === 201) {\n        return response;\n      }\n    }).catch(function (error) {\n      console.log(error);\n      return false;\n    });\n  }\n\n  setSortedProducts(sortBy) {\n    this.setState({\n      products: this.getSortedProducts(sortBy)\n    });\n    this.setState({\n      pSort: sortBy\n    });\n  }\n\n  getSortedProducts(sortBy) {\n    let dataToSort = this.state.products;\n    dataToSort.sort((a, b) => {\n      if (sortBy === 'Product Name') {\n        a = a.name.toLowerCase();\n        b = b.name.toLowerCase();\n        if (a < b) return -1;else if (a > b) return 1;else return 0;\n      }\n\n      if (sortBy === 'Price') return a.price - b.price;\n      if (sortBy === 'Quantity') return a.quantity - b.quantity;\n\n      if (sortBy === 'Category') {\n        a = a.category.toLowerCase();\n        b = b.category.toLowerCase();\n        if (a < b) return -1;else if (a > b) return 1;else return 0;\n      }\n\n      if (sortBy === 'Brand') {\n        a = a.brand.toLowerCase();\n        b = b.brand.toLowerCase();\n        if (a < b) return -1;else if (a > b) return 1;else return 0;\n      }\n\n      if (sortBy === 'Product ID') {\n        if (a._id < b._id) return -1;else if (a._id > b._id) return 1;else return 0;\n      }\n    });\n    return dataToSort;\n  }\n\n  setSortedOrders(sortBy) {\n    this.setState({\n      orders: this.getSortedOrders(sortBy)\n    });\n    this.setState({\n      oSort: sortBy\n    });\n  }\n\n  getSortedOrders(sortBy) {\n    let dataToSort = this.state.orders;\n    dataToSort.sort((a, b) => {\n      if (sortBy === 'Order ID') {\n        if (a._id < b._id) return -1;else if (a._id > b._id) return 1;else return 0;\n      }\n\n      if (sortBy === 'Product Name') {\n        a = a.products.toLowerCase();\n        b = b.products.toLowerCase();\n        if (a < b) return -1;else if (a > b) return 1;else return 0;\n      }\n\n      if (sortBy === 'Quantity') return a.quantity - b.quantity;\n      if (sortBy === 'Price') return a.price - b.price;\n\n      if (sortBy === 'Status') {\n        a = a.status.toLowerCase();\n        b = b.status.toLowerCase();\n        if (a < b) return -1;else if (a > b) return 1;else return 0;\n      }\n\n      if (sortBy === 'Product ID') {\n        return a.productIDs - b.productIDs;\n      }\n    });\n    return dataToSort;\n  }\n\n  componentDidMount() {\n    axios.get('http://localhost:5000/products').then(res => {\n      const products = res.data.products_list;\n      this.setState({\n        products\n      });\n      this.setSortedProducts('Product Name');\n    }).catch(function (error) {\n      console.log(error);\n    });\n    axios.get('http://localhost:5000/orders').then(res => {\n      const orders = res.data.orders_list;\n      this.setState({\n        orders\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"title\",\n        children: \"Inventory\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"app-body\",\n        children: [/*#__PURE__*/_jsxDEV(Sidebar, {\n          activeTab: this.state.activeTab,\n          changeTab: this.changeActiveTab.bind(this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 16\n        }, this), /*#__PURE__*/_jsxDEV(MyRouter, {\n          activeTab: this.state.activeTab,\n          changeActiveTab: this.changeActiveTab.bind(this),\n          products: this.state.products,\n          pSort: this.state.pSort,\n          newItemFormData: this.state.newItemForm,\n          changeNewItemForm: this.changeNewItemForm.bind(this),\n          addNewProduct: this.addNewProduct.bind(this),\n          removeProduct: this.removeProduct.bind(this),\n          setSortedProducts: this.setSortedProducts.bind(this),\n          orders: this.state.orders,\n          oSort: this.state.oSort,\n          newOrderFormData: this.state.newOrderForm,\n          changeNewOrderForm: this.changeNewOrderForm.bind(this),\n          addNewOrder: this.addNewOrder.bind(this),\n          removeOrder: this.removeOrder.bind(this),\n          setSortedOrders: this.setSortedOrders.bind(this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 16\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 10\n    }, this);\n  }\n\n}\n\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"Sidebar\");","map":{"version":3,"sources":["C:/Users/dando/Desktop/CPE/307/stonkBoisInventory/frontend/src/App.js"],"names":["React","Component","axios","MyRouter","Sidebar","props","activeTab","changeTab","App","constructor","removeProduct","id","products","state","delete","then","response","status","setState","filter","product","i","_id","removeOrder","orders","order","pSort","oSort","newItemForm","name","price","quantity","category","brand","imageURL","newOrderForm","productIDs","changeActiveTab","index","changeNewItemForm","formData","changeNewOrderForm","addNewProduct","makeProductPostCall","callResult","console","log","data","setSortedProducts","post","catch","error","addNewOrder","makeOrderPostCall","setSortedOrders","sortBy","getSortedProducts","dataToSort","sort","a","b","toLowerCase","getSortedOrders","componentDidMount","get","res","products_list","orders_list","render","bind"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport './index.scss';\nimport MyRouter from './MyRouter';\n\nconst Sidebar = (props) => {\n   return(\n     <div className='Sidebar'>\n       <ul>\n         <li className={props.activeTab === 1 ? 'active':''} onClick={() => props.changeTab(1)}>Products</li>\n         <li className={props.activeTab === 3 ? 'active':''} onClick={() => props.changeTab(3)}>Orders</li>\n       </ul>\n     </div>\n   );\n}\n\nclass App extends Component {\n   constructor(props) {\n      super(props);\n      this.state = {\n         activeTab: 1,\n         filter: 'none',\n         products: [],\n         pSort: 'Product Name',\n         orders: [],\n         oSort: 'Order ID',\n         newItemForm: {\n            name: '',\n            price: '',\n            quantity: '',\n            category: '',\n            brand: '',\n            imageURL: ''\n         },\n         newOrderForm: {\n            products: '',\n            quantity: '',\n            price: '',\n            status: '',\n            productIDs: ''\n         },\n      };  \n   }\n\n   changeActiveTab(index) {\n      this.setState({activeTab: index});\n   }\n\n   changeNewItemForm(formData){\n      this.setState({newItemForm: formData});\n   }\n\n   changeNewOrderForm(formData){\n      this.setState({newOrderForm: formData});\n   }\n\n   addNewProduct(product) {\n      this.makeProductPostCall(product).then( callResult => {\n         if (callResult !== false) {\n            this.setState({ newItemForm: {'name' : '', 'price' : '', 'quantity' : '',\n             'category' : '', 'brand' : '', 'imageURL' : ''}});\n            console.log(callResult);\n            this.setState({ products: [...this.state.products, callResult.data] });\n            this.setSortedProducts(\"Product Name\");\n            console.log(this.state.products);\n         }\n      });\n      this.changeActiveTab(1);\n   }\n\n   makeProductPostCall(product){\n      return axios.post('http://localhost:5000/products', product)\n         .then(function (response) {\n            console.log(response);\n            if (response.status === 201) {\n               return response;\n            }\n         })\n         .catch(function (error) {\n            console.log(error);\n            return false;\n         });\n   }\n\n   addNewOrder(order) {\n      this.makeOrderPostCall(order).then( callResult => {\n         if (callResult !== false) {\n            this.setState({ newOrderForm: {'products': '', 'quantity': '', \n               'price': '', 'status': '', 'productIDs': '', 'imageURL': ''}});\n            console.log(callResult);\n            this.setState({ orders: [...this.state.orders, callResult.data] });\n            this.setSortedOrders(\"Order ID\");\n            console.log(this.state.orders);\n         }\n      });\n      this.changeActiveTab(3);\n      this.setSortedProducts('Product Name');\n   }\n\n   makeOrderPostCall(order) {\n      return axios.post('http://localhost:5000/orders', order)\n         .then(function (response) {\n            console.log(response);\n            if (response.status === 201) {\n               return response;\n            }\n         })\n         .catch(function (error) {\n            console.log(error);\n            return false;\n         });\n   }\n\n   removeProduct = id => {\n      const { products } = this.state\n    \n      return axios.delete(`http://localhost:5000/products/${id}`)\n        .then(response => {\n          if (response.status === 204){\n            this.setState({\n              products: products.filter((product, i) => {\n                return product._id !== id\n              }),\n            })\n          }\n      })\n    }\n\n   removeOrder = id => {\n      const { orders } = this.state\n    \n      return axios.delete(`http://localhost:5000/orders/${id}`)\n        .then(response => {\n          if (response.status === 204){\n            this.setState({\n              orders: orders.filter((order, i) => {\n                return order._id !== id\n              }),\n            })\n          }\n      })\n    }\n\n   setSortedProducts(sortBy){\n      this.setState({products: this.getSortedProducts(sortBy)});\n      this.setState({pSort : sortBy})\n   }\n\n   getSortedProducts(sortBy){\n      let dataToSort=this.state.products;\n      dataToSort.sort((a, b) => {\n         if (sortBy === 'Product Name') {\n            a = a.name.toLowerCase();\n            b = b.name.toLowerCase();\n            if (a < b)\n               return -1;\n            else if (a > b)\n               return 1;\n            else\n               return 0;\n         }\n         if (sortBy === 'Price')\n            return a.price-b.price;\n         if (sortBy === 'Quantity')\n            return a.quantity-b.quantity;\n         if (sortBy === 'Category') {\n            a = a.category.toLowerCase();\n            b = b.category.toLowerCase();\n            if (a < b)\n               return -1;\n            else if (a > b)\n               return 1;\n            else\n               return 0;\n         }\n         if (sortBy === 'Brand') {\n            a = a.brand.toLowerCase();\n            b = b.brand.toLowerCase();\n            if (a < b)\n               return -1;\n            else if (a > b)\n               return 1;\n            else\n               return 0;\n         }\n         if (sortBy === 'Product ID') {\n            if (a._id < b._id)\n               return -1;\n            else if (a._id > b._id)\n               return 1;\n            else\n               return 0;\n         }\n      });\n      return dataToSort;\n   }\n\n   setSortedOrders(sortBy){\n      this.setState({orders: this.getSortedOrders(sortBy)});\n      this.setState({oSort : sortBy})\n   }\n\n   getSortedOrders(sortBy){\n      let dataToSort=this.state.orders;\n      dataToSort.sort((a, b) => {\n         if (sortBy === 'Order ID') {\n            if (a._id < b._id)\n               return -1;\n            else if (a._id > b._id)\n               return 1;\n            else\n               return 0;\n         }\n         if (sortBy === 'Product Name') {\n            a = a.products.toLowerCase();\n            b = b.products.toLowerCase();\n            if (a < b)\n               return -1;\n            else if (a > b)\n               return 1;\n            else\n               return 0;\n         }\n         if (sortBy === 'Quantity')\n            return a.quantity-b.quantity;\n         if (sortBy === 'Price')\n            return a.price-b.price;\n         if (sortBy === 'Status') {\n            a = a.status.toLowerCase();\n            b = b.status.toLowerCase();\n            if (a < b)\n               return -1;\n            else if (a > b)\n               return 1;\n            else\n               return 0;\n         }\n         if (sortBy === 'Product ID') {\n            return a.productIDs - b.productIDs;\n         }\n      });\n      return dataToSort;\n   }\n\n   componentDidMount() {\n      axios.get('http://localhost:5000/products')\n       .then(res => {\n         const products = res.data.products_list;\n         this.setState({ products });\n         this.setSortedProducts('Product Name');\n       })\n       .catch(function (error) {\n         console.log(error);\n       });\n      axios.get('http://localhost:5000/orders')\n       .then(res => {\n         const orders = res.data.orders_list;\n         this.setState({ orders });\n       })\n       .catch(function (error) {\n         console.log(error);\n       });\n   }\n\n   render () {\n\n      return (\n         <div className='App'>\n            <h1 className='title'>Inventory</h1>\n            <div className='app-body'>\n               <Sidebar activeTab={this.state.activeTab} changeTab={this.changeActiveTab.bind(this)}/>\n               <MyRouter \n                  activeTab={this.state.activeTab}\n                  changeActiveTab={this.changeActiveTab.bind(this)}\n\n                  products={this.state.products}\n                  pSort={this.state.pSort}\n                  newItemFormData={this.state.newItemForm}\n                  changeNewItemForm={this.changeNewItemForm.bind(this)}\n                  addNewProduct={this.addNewProduct.bind(this)}\n                  removeProduct={this.removeProduct.bind(this)}\n                  setSortedProducts={this.setSortedProducts.bind(this)}\n\n                  orders={this.state.orders}\n                  oSort={this.state.oSort}\n                  newOrderFormData={this.state.newOrderForm}\n                  changeNewOrderForm={this.changeNewOrderForm.bind(this)}\n                  addNewOrder={this.addNewOrder.bind(this)}\n                  removeOrder={this.removeOrder.bind(this)}\n                  setSortedOrders={this.setSortedOrders.bind(this)}\n               />\n            </div>\n         </div>\n      );\n   }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\fvfer\\\\OneDrive\\\\Documents\\\\CSC 307\\\\stonkBoisInventory\\\\frontend\\\\src\\\\NewItemTab.js\";\nimport React from 'react';\nimport ProductCard from './ProductCard';\nimport './index.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass NewItemTab extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      formErrors: {\n        name: false,\n        price: false,\n        quantity: false,\n        category: false,\n        brand: false,\n        imageURL: false\n      }\n    };\n  }\n\n  checkForm() {\n    let name = document.getElementById('newItemForm-name').value;\n    let price = document.getElementById('newItemForm-price').value;\n    let quantity = document.getElementById('newItemForm-quantity').value;\n    let category = document.getElementById('newItemForm-category').value;\n    let brand = document.getElementById('newItemForm-brand').value;\n    let imageURL = document.getElementById('newItemForm-imageURL').value;\n    let errors = this.state.formErrors;\n    name.length === 0 ? errors.name = true : errors.name = false;\n    price.length === 0 ? errors.price = true : errors.price = false;\n    quantity.length === 0 ? errors.quantity = true : errors.quantity = false;\n    category.length === 0 ? errors.category = true : errors.category = false;\n    brand.length === 0 ? errors.brand = true : errors.brand = false;\n    let image = new Image();\n\n    image.onerror = () => {\n      // this.finalizeForm(false, product);\n      this.finalizeForm(false, this.props.formData);\n    };\n\n    image.onload = () => {\n      // this.finalizeForm(true, product);\n      this.finalizeForm(true, this.props.formData);\n    };\n\n    this.setState({\n      formErrors: errors\n    });\n    image.src = imageURL;\n  }\n\n  finalizeForm(isImageURLValid, product) {\n    if (isImageURLValid === false) {\n      let errors = this.state.formErrors;\n      errors.imageURL = true;\n      this.setState({\n        formErrors: errors\n      });\n    } else {\n      // TODO: implement some sort of post call inside addNewProduct, \n      //       or combine addNewProduct with makePostCall\n      this.props.handleSubmit(product);\n    }\n  }\n\n  updateForm() {\n    let name = document.getElementById('newItemForm-name').value;\n    let price = document.getElementById('newItemForm-price').value;\n    let quantity = document.getElementById('newItemForm-quantity').value;\n    let category = document.getElementById('newItemForm-category').value;\n    let brand = document.getElementById('newItemForm-brand').value;\n    let imageURL = document.getElementById('newItemForm-imageURL').value;\n    let errors = this.state.formErrors;\n\n    if (this.props.formData.name !== name) {\n      errors.name = false;\n    }\n\n    if (this.props.formData.price !== price) {\n      errors.price = false;\n    }\n\n    if (this.props.formData.quantity !== quantity) {\n      errors.quantity = false;\n    }\n\n    if (this.props.formData.category !== category) {\n      errors.category = false;\n    }\n\n    if (this.props.formData.brand !== brand) {\n      errors.brand = false;\n    }\n\n    if (this.props.formData.imageURL !== imageURL) {\n      errors.imageURL = false;\n    }\n\n    this.setState({\n      formErrors: errors\n    });\n    this.props.changeNewItemForm({\n      name: name,\n      price: price,\n      quantity: quantity,\n      category: category,\n      imageURL: imageURL\n    });\n  }\n\n  render() {\n    const {\n      name,\n      price,\n      quantity,\n      category,\n      description,\n      brand,\n      productID,\n      picture\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"NewItemTab\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"newItem-input\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Add a New Product\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Product Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: this.state.formErrors.name === true ? 'formCheck-err' : '',\n              type: \"text\",\n              required: true,\n              id: \"newItemForm-name\",\n              value: this.props.formData.name,\n              onChange: () => this.updateForm()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Price\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: this.state.formErrors.price === true ? 'formCheck-err' : '',\n              type: \"number\",\n              required: true,\n              id: \"newItemForm-price\",\n              value: this.props.formData.price,\n              onChange: () => this.updateForm()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Quantity\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: this.state.formErrors.price === true ? 'formCheck-err' : '',\n              type: \"number\",\n              required: true,\n              id: \"newItemForm-quantity\",\n              value: this.props.formData.quantity,\n              onChange: () => this.updateForm()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Category\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: this.state.formErrors.category === true ? 'formCheck-err' : '',\n              type: \"text\",\n              required: true,\n              id: \"newItemForm-category\",\n              value: this.props.formData.category,\n              onChange: () => this.updateForm()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Brand\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: this.state.formErrors.brand === true ? 'formCheck-err' : '',\n              type: \"text\",\n              required: true,\n              id: \"newItemForm-brand\",\n              value: this.props.formData.brand,\n              onChange: () => this.updateForm()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Image URL\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: this.state.formErrors.imageURL === true ? 'formCheck-err' : '',\n              type: \"text\",\n              required: true,\n              id: \"newItemForm-imageURL\",\n              value: this.props.formData.imageURL,\n              onChange: () => this.updateForm(),\n              placeholder: \"Paste link here\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => this.checkForm(),\n            children: \"Add Product\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"newItem-preview\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Preview\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ProductCard, {\n            product: this.props.formData\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nexport default NewItemTab;","map":{"version":3,"sources":["C:/Users/fvfer/OneDrive/Documents/CSC 307/stonkBoisInventory/frontend/src/NewItemTab.js"],"names":["React","ProductCard","NewItemTab","Component","constructor","state","formErrors","name","price","quantity","category","brand","imageURL","checkForm","document","getElementById","value","errors","length","image","Image","onerror","finalizeForm","props","formData","onload","setState","src","isImageURLValid","product","handleSubmit","updateForm","changeNewItemForm","render","description","productID","picture"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport ProductCard from './ProductCard';\r\nimport './index.scss';\r\n\r\nclass NewItemTab extends React.Component {\r\n    constructor() {\r\n      super();\r\n      this.state = {\r\n        formErrors: {\r\n          name: false,\r\n          price: false,\r\n          quantity: false,\r\n          category: false,\r\n          brand: false,\r\n          imageURL: false\r\n        }\r\n      }\r\n    }\r\n    \r\n    checkForm(){\r\n      let name = document.getElementById('newItemForm-name').value;\r\n      let price = document.getElementById('newItemForm-price').value;\r\n      let quantity = document.getElementById('newItemForm-quantity').value;\r\n      let category = document.getElementById('newItemForm-category').value;\r\n      let brand = document.getElementById('newItemForm-brand').value;\r\n      let imageURL = document.getElementById('newItemForm-imageURL').value;\r\n      let errors = this.state.formErrors;\r\n      name.length === 0 ? errors.name = true : errors.name = false;\r\n      price.length === 0 ? errors.price = true : errors.price = false;\r\n      quantity.length === 0 ? errors.quantity = true : errors.quantity = false;\r\n      category.length === 0 ? errors.category = true : errors.category = false;\r\n      brand.length === 0 ? errors.brand = true : errors.brand = false;\r\n      \r\n      let image = new Image();\r\n      image.onerror = () =>{\r\n        // this.finalizeForm(false, product);\r\n        this.finalizeForm(false, this.props.formData);\r\n      }\r\n      image.onload = () =>{\r\n        // this.finalizeForm(true, product);\r\n        this.finalizeForm(true, this.props.formData);\r\n      }\r\n      this.setState({formErrors: errors});\r\n      image.src = imageURL;\r\n    }\r\n    \r\n    finalizeForm(isImageURLValid, product){\r\n      \r\n      if(isImageURLValid === false){\r\n        let errors = this.state.formErrors;\r\n        errors.imageURL = true;\r\n        this.setState({formErrors: errors});\r\n      } else {\r\n        // TODO: implement some sort of post call inside addNewProduct, \r\n        //       or combine addNewProduct with makePostCall\r\n        this.props.handleSubmit(product);\r\n      }\r\n    }\r\n    \r\n    updateForm(){\r\n      let name = document.getElementById('newItemForm-name').value;\r\n      let price = document.getElementById('newItemForm-price').value;\r\n      let quantity = document.getElementById('newItemForm-quantity').value;\r\n      let category = document.getElementById('newItemForm-category').value;\r\n      let brand = document.getElementById('newItemForm-brand').value;\r\n      let imageURL = document.getElementById('newItemForm-imageURL').value;\r\n      let errors = this.state.formErrors;\r\n      if(this.props.formData.name !== name){\r\n        errors.name = false;\r\n      }\r\n      if(this.props.formData.price !== price){\r\n        errors.price = false;\r\n      }\r\n      if(this.props.formData.quantity !== quantity){\r\n        errors.quantity = false;\r\n      }\r\n      if(this.props.formData.category !== category){\r\n        errors.category = false;\r\n      }\r\n      if(this.props.formData.brand !== brand){\r\n        errors.brand = false;\r\n      }\r\n      if(this.props.formData.imageURL !== imageURL){\r\n        errors.imageURL= false;\r\n      }\r\n      this.setState({formErrors: errors});\r\n      \r\n      this.props.changeNewItemForm({name: name, price: price, quantity: quantity,\r\n        category: category, imageURL: imageURL});\r\n    }\r\n    \r\n    render() {\r\n      const { name, price, quantity, category, description, brand, productID, picture } = this.state;\r\n      \r\n      return (\r\n        <form>\r\n        <div className='NewItemTab'>\r\n          <div className='newItem-input'>\r\n            <h1>Add a New Product</h1>\r\n            <p>\r\n              <label>Product Name</label>\r\n              <input className={this.state.formErrors.name === true ? 'formCheck-err' : ''} type='text' required id='newItemForm-name' value={this.props.formData.name} onChange={() => this.updateForm()}></input>\r\n            </p>\r\n            <p>\r\n              <label>Price</label>\r\n              <input className={this.state.formErrors.price === true ? 'formCheck-err' : ''} type='number' required id='newItemForm-price' value={this.props.formData.price} onChange={() => this.updateForm()}></input>\r\n            </p>\r\n            <p>\r\n              <label>Quantity</label>\r\n              <input className={this.state.formErrors.price === true ? 'formCheck-err' : ''} type='number' required id='newItemForm-quantity' value={this.props.formData.quantity} onChange={() => this.updateForm()}></input>\r\n            </p>\r\n            <p>\r\n              <label>Category</label>\r\n              <input className={this.state.formErrors.category === true ? 'formCheck-err' : ''} type='text' required id='newItemForm-category' value={this.props.formData.category} onChange={() => this.updateForm()}></input>\r\n            </p>\r\n            <p>\r\n              <label>Brand</label>\r\n              <input className={this.state.formErrors.brand === true ? 'formCheck-err' : ''} type='text' required id='newItemForm-brand' value={this.props.formData.brand} onChange={() => this.updateForm()}></input>\r\n            </p>\r\n            <p>\r\n              <label>Image URL</label>\r\n              <input className={this.state.formErrors.imageURL === true ? 'formCheck-err' : ''} type='text' required id='newItemForm-imageURL' value={this.props.formData.imageURL} onChange={() => this.updateForm()} placeholder='Paste link here'></input>\r\n            </p>\r\n            <button onClick={() => this.checkForm()}>Add Product</button>\r\n          </div>\r\n          <div className='newItem-preview'>\r\n            <h1>Preview</h1>\r\n            <ProductCard product={this.props.formData} />\r\n            \r\n          </div>\r\n\r\n        </div>\r\n        </form>\r\n      );\r\n    }\r\n  }\r\n\r\nexport default NewItemTab;\r\n"]},"metadata":{},"sourceType":"module"}